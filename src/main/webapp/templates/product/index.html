<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="author" content="Codecool"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <title>Codecool Shop</title>

    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />

    <script th:src="${ctxPath} + '/static/javascript/main.js'" defer></script>


    <link rel="stylesheet" type="text/css" href="/static/css/custom.css"/>
    <script src="/static/javascript/main.js" defer></script>

</head>

<body>

<nav>
    <div class="container">
        <strong class="logo">Codecool Shop</strong>

        <button class="cart-btn">
            <i class="bi bi-cart"></i>

            <small class="cart-qty">0</small>
        </button>
    </div>
</nav>


<div>
    <label id="categoryLabel" for="category">Filer by Category: </label>
    <select name="categoryProducts" id="category">
        <option>--Please choose--</option>
        <div th:each="cate: ${allCategory}">
            <option th:data-category-id="${cate.id}" th:text="${cate.name}"> Category name</option>
        </div>
    </select>
</div>

<div>
    <form id="filterForm" action="/" method="get">
        <label for="supplier">Filter by Supplier:</label>
        <select name="supplierId" id="supplier" th:field="${selectedSupplier}">
            <option value="0">All Suppliers</option>
            <th:block th:each="supplier : ${suppliers}">
                <option th:value="${supplier.id}" th:text="${supplier.name}"></option>
            </th:block>
        </select>
    </form>

    <div class="card">
        <strong th:text="${selectedSupplierName}">Supplier</strong>
    </div>

    <div id="main" class="container">
        <div id="categoryName" class="card">
            <strong th:text="${category.name}">Category Title</strong>
            <div id="products" class="products">
                <div class="product" th:each="prod,iterStat : ${products}">
                    <img src="https://placehold.it/400x250/000/fff"
                         th:src="@{${'/static/img/product_'+prod.id+'.jpg'}}"/>
                    <h3 th:text="${prod.name}">Product name</h3>
                    <p th:text="${prod.description}">Product description... </p>
                    <h5 th:text="${prod.getPrice()}">100 USD</h5>
                    <button th:data-product-id="${prod.id}">Add to cart</button>
                </div>
            </div>
        </div>
    </div>

    <div th:replace="footer.html :: copy"></div>
</div>

<div class="cart-overlay"></div>

<div class="cart">
    <div class="cart-header">
        <i class="bi bi-arrow-right cart-close"></i>
        <h2>Your Cart</h2>
    </div>
    <div class="cart-body"></div>
    <div class="cart-footer">
        <div>
            <strong>Total</strong>
            <span class="cart-total">0</span>
        </div>
        <button class="cart-clear">Clear Cart</button>
        <button class="checkout">Checkout</button>
    </div>
</div>
<script src="/static/javascript/cart.js" defer></script>
</body>
</html>